jQuery(document).ready(function(){cas_load.init();$("#tanggallahirnasabah, #tanggalaktaperusahaan, #tanggalaktaterakhir, #tanggalterbitsiup, #tanggaljatuhtemposiup, #tanggalterbittdp, #tanggaljatuhtempotdp, #tanggalterbitkelengkapan, #tanggaljatuhtempokelengkapan").datepicker({format:"dd/mm/yyyy",autoclose:!0,todayHighlight:!0});$("#btnshowbank").click(function(){cas_lookup.msbank()});$("#btnshoworderid").click(function(){cas_lookup.poolingorder()});$("#btnshownik_sr1").click(function(){cas_lookup.Nik(this.id)});$("#btnshownik_sr4").click(function(){cas_lookup.Nik(this.id)});const n=document.getElementById("CASheader_more");n?.addEventListener("click",()=>{cas_load.changeClass_CASHeader()});const t=document.getElementById("Pembatalan_more");t?.addEventListener("click",()=>{cas_load.changeClass_Pembatalan()});const i=document.getElementById("Referensi_more");i?.addEventListener("click",()=>{cas_load.changeClass_Referensi()});const r=document.getElementById("Tagihan_more");r?.addEventListener("click",()=>{cas_load.changeClass_Tagihan()});const u=document.getElementById("Penjamin_more");u?.addEventListener("click",()=>{cas_load.changeClass_Penjamin()});const f=document.getElementById("Pasangan_more");f?.addEventListener("click",()=>{cas_load.changeclass_Pasangan()});const e=document.getElementById("Rumah_more");e?.addEventListener("click",()=>{cas_load.changeClass_Rumah()});const o=document.getElementById("Tanggungan_more");o?.addEventListener("click",()=>{cas_load.changeClass_Tanggungan()});const s=document.getElementById("Penghasilan_more");s?.addEventListener("click",()=>{cas_load.changeClass_Penghasilan()});const h=document.getElementById("Karakter_more");h?.addEventListener("click",()=>{cas_load.changeClass_Karater()});const c=document.getElementById("BadanUsaha_more");c?.addEventListener("click",()=>{cas_load.changeClass_BadanUsaha()});const l=document.getElementById("Identitas_more");l?.addEventListener("click",()=>{cas_load.changeClass_Identitas()});const a=document.getElementById("Nasabah_more");a?.addEventListener("click",()=>{cas_load.changeClass_Nasabah()});const v=document.getElementById("Analisa_more");v?.addEventListener("click",()=>{cas_load.changeClass_Analisa()});$("#ddlkewarganegaraan").removeAttr("multiple");$("#ddlvisiting").removeAttr("multiple")});var cas_load={init:function(){this.HandleBlacklistBtn();this.TogglePanel();this.CheckStatusPernikahan();this.CheckSeumurHidup();this.CheckTipeKonsumen();this.CustomerROCheck();this.CheckSumberReferensi();this.CheckGenderByNIK();this.InstantApprovalCheck();this.DataPenjaminCheck();this.DataReferensiCheck();this.OtherIndustryDesc();this.InitialConvertMoney();$("#txtcreditid").val()!=""&&this.CheckFileDokumen();$("#btnShowApuppt").click(function(){cas_load.CheckApuppt()});$("#btnsavechange").click(function(){});var n=$("#txpenghasilanutama").val();(n=="0"||n=="")&&$("#lblpenghasilanutama").html("Penghasilan Utama tidak boleh 0");$("#btnNext").click(function(){if($("#txpenghasilanutama").val()=="0"||$("#txpenghasilanutama").val()=="")return Common.Alert.Info("Mohon masukan Penghasilan Utama nasabah pada panel Data Penghasilan. Silahkan cek dan coba kembali."),!1})},setup_select2:function(){$("#ddlLocRef1").select2({width:"100%"})},CheckNPWPLength:function(n){n!=""&&n.length<=14&&Common.Alert.Warning("Mohon masukan No NPWP dengan benar. Silahkan check dan coba kembali.")},InitialConvertMoney:function(){var n=$("#txpenghasilanutama").val().replaceAll(".","");$("#txpenghasilanutama").val(cas_load.FormatNumberMoney(n));$("#txpenghasilanutama").keyup(function(n){if($("#txpenghasilanutama").val(cas_load.FormatNumberMoney($("#txpenghasilanutama").val().replaceAll(".",""))),n.target.value==0)return $("#lblpenghasilanutama").html("Penghasilan Utama tidak boleh 0"),Common.Alert.Info("Mohon masukan Penghasilan Utama nasabah pada panel Data Penghasilan. Silahkan cek dan coba kembali."),!1;$("#lblpenghasilanutama").html("")});$("#txpenghasilantambahan").val(cas_load.FormatNumberMoney($("#txpenghasilantambahan").val().replaceAll(".","")));$("#txpenghasilantambahan").keyup(function(){$("#txpenghasilantambahan").val(cas_load.FormatNumberMoney($("#txpenghasilantambahan").val().replaceAll(".","")))});$("#txtbiayapengeluaranRT").val(cas_load.FormatNumberMoney($("#txtbiayapengeluaranRT").val().replaceAll(".","")));$("#txtbiayapengeluaranRT").keyup(function(){$("#txtbiayapengeluaranRT").val(cas_load.FormatNumberMoney($("#txtbiayapengeluaranRT").val().replaceAll(".","")))});$("#txbiayapendidikan").val(cas_load.FormatNumberMoney($("#txbiayapendidikan").val().replaceAll(".","")));$("#txbiayapendidikan").keyup(function(){$("#txbiayapendidikan").val(cas_load.FormatNumberMoney($("#txbiayapendidikan").val().replaceAll(".","")))});$("#txbiayakesehatan").val(cas_load.FormatNumberMoney($("#txbiayakesehatan").val().replaceAll(".","")));$("#txbiayakesehatan").keyup(function(){$("#txbiayakesehatan").val(cas_load.FormatNumberMoney($("#txbiayakesehatan").val().replaceAll(".","")))});$("#txpenghasilanutama_pasangan").val(cas_load.FormatNumberMoney($("#txpenghasilanutama_pasangan").val().replaceAll(".","")));$("#txpenghasilanutama_pasangan").keyup(function(){$("#txpenghasilanutama_pasangan").val(cas_load.FormatNumberMoney($("#txpenghasilanutama_pasangan").val().replaceAll(".","")))});$("#txpenghasilantambahan_pasangan").val(cas_load.FormatNumberMoney($("#txpenghasilantambahan_pasangan").val().replaceAll(".","")));$("#txpenghasilantambahan_pasangan").keyup(function(){$("#txpenghasilantambahan_pasangan").val(cas_load.FormatNumberMoney($("#txpenghasilantambahan_pasangan").val().replaceAll(".","")))});$("#txtcicilanlain").val(cas_load.FormatNumberMoney($("#txtcicilanlain").val().replaceAll(".","")));$("#txtcicilanlain").keyup(function(){$("#txtcicilanlain").val(cas_load.FormatNumberMoney($("#txtcicilanlain").val().replaceAll(".","")))})},FormatNumberMoney:function(n){if(n!=undefined){let t=new Intl.NumberFormat("id-ID");return t.format(n)=="NaN"?"":t.format(n)}},data_location_references:function(){$.ajax({type:"POST",url:"/CAS/LocationReferenceData",data:{searchTerm:""},datatype:"json",contentType:"application/json; charset=utf-8",success:function(n){var t=n},error:function(n){var t=n}})},IscheckSeumurHidup:function(){($("#chkSeumurHidup").isChecked=!0)?$("#tanggalberlakuktp").prop("readonly",!0):($("#chkSeumurHidup").isChecked=!1)&&($("#tanggalberlakuktp").val(""),$("#tanggalberlakuktp").prop("readonly",!1))},save_draft:function(){},DataPenjaminCheck:async function(){document.getElementById("PenjaminYesCheck").checked?(document.getElementById("PenjaminYes").style.display="block",document.getElementById("PenjaminYes1").style.display="block",$(".type-jamin").prop("required",!0)):(document.getElementById("PenjaminYes").style.display="none",document.getElementById("PenjaminYes1").style.display="none",$(".type-jamin").prop("required",!1))},DataReferensiCheck:async function(){if(document.getElementById("ReferensiYesCheck").checked){var n=$("#txKTP").val();n==""?(Common.Alert.Warning("Isi Identitas No KTP terlebih dahulu !"),$("#ReferensiYesCheck").prop("checked",!1),$("#ReferensiNoCheck").prop("checked",!0)):(document.getElementById("ReferensiYes").style.display="block",document.getElementById("ReferensiYes1").style.display="block")}else document.getElementById("ReferensiYes").style.display="none",document.getElementById("ReferensiYes1").style.display="none"},CheckStatusPernikahan:async function(){var n=document.getElementById("ddlStatusPernikahan"),t=n.options[n.selectedIndex].text;t=="Menikah"?($("#rbMerried").attr("checked",!0),$("#rbMerried").prop("value",!0),document.getElementById("StatusMenikah").style.display="block",document.getElementById("StatusMenikah1").style.display="block",$(".type-merried").prop("required",!0)):($("#rbMerried").attr("checked",!1),$("#rbMerried").prop("value",!1),document.getElementById("StatusMenikah").style.display="none",document.getElementById("StatusMenikah1").style.display="none",$(".type-merried").prop("required",!1))},CustomerROCheck:function(){document.getElementById("divAlasanRO").style.display="none";$("#repeat_order_reason").removeAttr("required");document.getElementById("ROyesCheck").checked?(document.getElementById("ROYes").style.display="block",$(".type-ro").prop("required",!0),document.getElementById("divAlasanRO").style.display="block",$("#repeat_order_reason").attr("required",!0)):(document.getElementById("ROYes").style.display="none",document.getElementById("IAYes").style.display="none",document.getElementById("IANo").style.display="none",$(".type-ro").prop("required",!1),$("#repeat_order_reason").val(""))},CheckTipeKonsumen:async function(){var n=document.getElementById("ddltipekonsumen"),t=n.options[n.selectedIndex].value;$("#txofficename_financial").removeAttr("required");t=="P"?(document.getElementById("Perseorangan").style.display="block",document.getElementById("Perseorangan1").style.display="block",document.getElementById("pnlBtnApuppt").style.display="block",$(".type-perorang").prop("required",!0)):(document.getElementById("Perseorangan").style.display="none",document.getElementById("Perseorangan1").style.display="none",document.getElementById("pnlBtnApuppt").style.display="none",$(".type-perorang").prop("required",!1));t=="C"?(document.getElementById("Corporate").style.display="block",document.getElementById("Corporate1").style.display="block",document.getElementById("Corporate2").style.display="block",$(".type-corporate").prop("required",!0),$("#txofficename_financial").attr("required",!0)):(document.getElementById("Corporate").style.display="none",document.getElementById("Corporate1").style.display="none",document.getElementById("Corporate2").style.display="none",$(".type-corporate").prop("required",!1))},CheckOrderIdByCreditSource:function(){var n=document.getElementById("btnshoworderid"),t=document.getElementById("ddlcreditsource"),i=t.options[t.selectedIndex].value;i=="3"?n.disabled=!1:(n.disabled=!0,$("#txtorderId").val(""))},CheckSumberReferensi:async function(){var t=document.getElementById("ddlsumberreferensi"),n=t.options[t.selectedIndex].value;document.getElementById("SR1").style.display=n=="2"?"block":"none";document.getElementById("SR2").style.display=n=="3"||n=="4"?"block":"none";document.getElementById("SR4").style.display=n=="6"?"block":"none"},changeClass_CASHeader:function(){var n=document.getElementById("CASheader"),t=document.getElementById("CASheader_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("CASheaderShow")?"CAS Header":"CAS Header"},changeClass_Pembatalan:function(){var n=document.getElementById("Pembatalan"),t=document.getElementById("Pembatalan_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("Show")?"Data Pembatalan":"Data Pembatalan"},changeClass_Tagihan:function(){var n=document.getElementById("Tagihan"),t=document.getElementById("Tagihan_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("Show")?"Data Pembayaran Tagihan":"Data Pembayaran Tagihan"},changeClass_Referensi:function(){var n=document.getElementById("Referensi"),t=document.getElementById("Referensi_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("Show")?"Data Referensi":"Data Referensi"},changeClass_Penjamin:function(){var n=document.getElementById("Penjamin"),t=document.getElementById("Penjamin_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("PenjaminShow")?"Data Penjamin":"Data Penjamin"},changeclass_Pasangan:function(){var n=document.getElementById("Pasangan"),t=document.getElementById("Pasangan_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("PasanganShow")?"Data Pasangan":"Data Pasangan"},changeClass_Rumah:function(){var n=document.getElementById("Rumah"),t=document.getElementById("Rumah_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("RumahShow")?"Data Kepemilikan Rumah":"Data Kepemilikan Rumah"},changeClass_Tanggungan:function(){var n=document.getElementById("Tanggungan"),t=document.getElementById("Tanggungan_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("TanggunganShow")?"Data Biaya & Tanggungan":"Data Biaya & Tanggungan"},changeClass_Penghasilan:function(){var n=document.getElementById("Penghasilan"),t=document.getElementById("Penghasilan_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("PenghasilanShow")?"Data Penghasilan":"Data Penghasilan"},changeClass_Karater:function(){var n=document.getElementById("Karakter"),t=document.getElementById("Karakter_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("KarakterShow")?"Data Karakter":"Data Karakter"},changeClass_BadanUsaha:function(){var n=document.getElementById("BadanUsaha"),t=document.getElementById("BadanUsaha_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("BadanUsahaShow")?"Badan Usaha":"Badan Usaha"},changeClass_Identitas:function(){var n=document.getElementById("Identitas"),t=document.getElementById("Identitas_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("IdentitasShow")?"Data Identitas":"Data Identitas"},changeClass_Nasabah:function(){var n=document.getElementById("Nasabah"),t=document.getElementById("Nasabah_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("NasabahShow")?"Data Nasabah":"Data Nasabah"},changeClass_Analisa:function(){var n=document.getElementById("Analisa"),t=document.getElementById("Analisa_more");n.classList.toggle("show");t.innerHTML=n.classList.contains("Show")?"Analisa & Kesimpulan (AO)":"Analisa & Kesimpulan (AO)"},InstantApprovalCheck:async function(){document.getElementById("IAYesCheck").checked?(document.getElementById("IAYes").style.display="block",document.getElementById("IAYes1").style.display="block",document.getElementById("IANo").style.display="none",document.getElementById("IANo1").style.display="none"):document.getElementById("IANoCheck").checked&&(document.getElementById("IAYes").style.display="none",document.getElementById("IAYes1").style.display="none",document.getElementById("IANo").style.display="block",document.getElementById("IANo1").style.display="block")},TogglePanel:function(){$("btnCAS").click(function(){$("CASheader").toggle()});$("btnIdentitas").click(function(){$("Identitas").toggle()});$("btnBadanUsaha").click(function(){$("BadanUsaha").toggle()});$("btnRepeatOrder").click(function(){$("RepeatOrder").toggle()});$("btnKarakter").click(function(){$("Karakter").toggle()});$("btnPenghasilan").click(function(){$("Penghasilan").toggle()});$("btnTanggungan").click(function(){$("Tanggungan").toggle()});$("btnRumah").click(function(){$("Rumah").toggle()});$("btnPasangan").click(function(){$("Pasangan").toggle()});$("btnPenjamin").click(function(){$("Penjamin").toggle()});$("btnReferensi").click(function(){$("Referensi").toggle()});$("btnTagihan").click(function(){$("Tagihan").toggle()});$("btnPembatalan").click(function(){$("Pembatalan").toggle()});$("btnAnalisa").click(function(){$("Analisa").toggle()})},OtherIndustryDesc:function(){var n=document.getElementById("ddlbidangusaha_c"),t=n.options[n.selectedIndex].text;t=="Lainnya"?(document.getElementById("pnlOtherIndustry").style.display="block",$("#txotherindustrydesc").val(""),$("#txotherindustrydesc").attr("required",!0)):(document.getElementById("pnlOtherIndustry").style.display="none",$("#txotherindustrydesc").removeAttr("required"))},CheckSeumurHidup:function(){checkBox=document.getElementById("chkSeumurHidup").addEventListener("click",n=>{n.target.checked?$("#tanggalberlakuktp").prop("readonly",!0):($("#tanggalberlakuktp").val(""),$("#tanggalberlakuktp").prop("readonly",!1))})},CheckGenderByNIK:function(){$("#txKTP").keyup(function(){if(this.value.length===16){var n={nik:this.value};$.ajax({url:"GetGenderByNIK",type:"GET",data:n,success:function(n){var t=n;t=="P"?($("#rbPerempuan").prop("checked",!0),$("#rbLaki").prop("checked",!1)):t=="L"?($("#rbLaki").prop("checked",!0),$("#rbPerempuan").prop("checked",!1)):($("#rbLaki").prop("checked",!1),$("#rbPerempuan").prop("checked",!1))},error:function(){}})}})},LoadIdentityType:function(n){var t={customerType:n};$.ajax({url:"IdentityTypeByCustomer",type:"GET",contentType:"application/json;charset=utf-8",dataType:"json",data:t,cache:!1}).done(function(n){var i="",t;for(i+='<option selected="selected" disabled="disabled" value="">Pilih Sumber CAS<\/option>',t=0;t<n.length;t++)i+='<option value="'+n[t].credit_source_id+'">'+n[t].credit_source_desc+"<\/option>";$("#ddlcreditsource").html(i)}).fail(function(n,t){var i=t;Common.Alert.Error(i)})},CheckApuppt:function(){var t=$("#txKTP").val(),s=$("#txKTP").val(),h=$("#txKTP").val(),i=$("#txnamanasabah_p").val(),r=$("#tanggallahir_p").val(),u=$("#txtempatlahir_p").val(),f=$("#txtalamatnasabah").val(),e=$("#txposition_financial").val(),o,n;if(t==""||i==""||r==""||u==""||f==""||e==""){Common.Alert.Warning("Mohon lengkapi data terlebih dahulu !");return}o={ktpNo:t,ktpNo1:s,ktpNo2:h,name:i,birthDate:r,birthPlace:u,alamatDomisili:f,accupation:e};n=Ladda.create(document.getElementById("btnShowApuppt"));$.ajax({url:"CheckApuppt",type:"GET",contentType:"application/json;charset=utf-8",dataType:"json",data:o,cache:!1,beforeSend:function(){n.start()}}).done(function(t){n.stop();t[0].is_apuppt_result?($("#hdn_isapuppt").val("1"),document.getElementById("pnlApuppt").style.display="block",Common.Alert.Info("Pengecekan selesai. Form APUPPT tersedia!")):($("#hdn_isapuppt").val("0"),document.getElementById("pnlApuppt").style.display="none",Common.Alert.Warning("Pengecekan selesai. Form APUPPT TIDAK tersedia!"))}).fail(function(t,i){n.stop();var r=i;Common.Alert.Error(r)})},ShowPanelApuppt:function(){var n=document.getElementById("pnlApuppt");n.style.display=n.style.display==="none"?"block":"none"},CheckBlacklist:function(n,t,i){var r=document.getElementById(t),u={ktp:n,itemId:i};$.ajax({url:"CheckBlacklist",type:"GET",contentType:"application/json;charset=utf-8",dataType:"json",data:u,cache:!1}).done(function(t){t.length>0?t[0].is_blacklist?(r.style.display="block",r.innerHTML=t[0].message_error,r.style.color="red",$("#txt_hidden_blacklist").val("true"),Common.Alert.Warning("Checking Blacklist Result: KTP "+n+", "+t[0].message_error)):(r.style.display="block",r.innerHTML="Tidak Blacklist",r.style.color="#38E54D",$("#txt_hidden_blacklist").val("false")):(r.style.display="block",r.innerHTML="Tidak Blacklist",r.style.color="#38E54D",$("#txt_hidden_blacklist").val("false"))}).fail(function(n,t){var i=t;Common.Alert.Error(i)})},HandleBlacklistBtn:function(){$("#btncheckBL_identity").click(function(n){var i=n.target.attributes.value.value,t=$("#txKTP").val();t==""||t==null?Common.Alert.Warning("Mohon masukan No KTP !"):cas_load.CheckBlacklist(t,"lblblacklist",i)});$("#btncheckBL_pasangan").click(function(n){var i=n.target.attributes.value.value,t=$("#txKtpPasangan").val();t==null||t==null?Common.Alert.Warning("Mohon masukan No Identitas Pasangan !"):cas_load.CheckBlacklist(t,"lblblacklist_pasangan",i)});$("#btnCheckBL_penjamin").click(function(n){var i=n.target.attributes.value.value,t=$("#txtKtpPenjamin").val();t==null||t==""?Common.Alert.Warning("Mohon masukan No Identitas Penjamin !"):cas_load.CheckBlacklist(t,"lblblacklist_penjamin",i)})},GetPoolingByOrderId:function(n){var t={orderId:n};$.ajax({url:"GetDataPoolingOrder",type:"GET",data:t,beforeSend:function(){},success:function(n){$("#txKTP").val(n.ktp_no);$("#txtalamatnasabah").val(n.alamat_survey);$("#txtelephone").val(n.phone1);$("#txMobilePhone").val(n.phone2);$("#tanggallahir_p").val(n.birth_date);$("#ddlStatusPernikahan").val(n.marital_id);$("#ddlProfesi").val(n.profession_id);$("#ddlStatusPernikahan").val(n.marital_id);$("#ddlResidenceState").val(n.home_status_id);$("#ddlbuktikepemilikan").val(n.home_time_stay_id);$("#ddlBidangUsaha").val(n.industry_type_id);$("#txResidenceDistance").val(1);$("#txnamanasabah_p").val(n.customer_name);n.marital_id==2&&(cas_load.CheckStatusPernikahan(),$("#txtnamapasangan").val(n.spouse_name),$("#tanggallahirpasangan").val(n.spouse_birth_date),$("#txKtpPasangan").val(n.spouse_id_no),$("#txtnamapasangan").val(n.spouse_name))},error:function(n){var t=n;Common.Alert.Error("Failed to Get Data Pooling Order. Error "+t)}})},CheckPaymentPointPlan:function(n,t){for(var r,e,u="ddlprior_planpay_",f=$(t).attr("id"),o=f.replace(u,""),s=document.getElementsByClassName("planpay").length,i=0;i<s;i++)r=i+1,o!=r&&(e=$("#"+u+r).val(),n==e&&(Common.Alert.Warning("Pembayaran Angsuran tidak boleh sama dengan Skala Prioritas yang sudah terpilih !"),$("#"+f).val("")))},CheckPaymentLoc:function(n,t){for(var r,e,u="ddlprior_locpay_",f=$(t).attr("id"),o=f.replace(u,""),s=document.getElementsByClassName("locpay").length,i=0;i<s;i++)r=i+1,o!=r&&(e=$("#"+u+r).val(),n==e&&(Common.Alert.Warning("Lokasi Pembayaran tidak boleh sama dengan Skala Prioritas yang sudah terpilih !"),$("#"+f).val("")))},RemoveTagRequired:function(){$("input").removeAttr("required");$("select").removeAttr("required");$("textarea").removeAttr("required")},SetAlamatTagihan:function(){var t=document.getElementById("ddlmailtosource"),n=t.options[t.selectedIndex].text;n=="Nasabah"?(document.getElementById("txmailtoaddress").value=$("#txtalamatnasabah").val(),$("#txmailtotelepon").val($("#txtelephone").val()),$("#txmailtolocationid").val($("#txlocationid").val()),$("#txmailtolocationname").val($("#txlocationname").val()),$("#txmailtoaddress").prop("readonly",!0),$("#txmailtotelepon").prop("readonly",!0)):n=="Perusahaan"?($("#txmailtoaddress").val($("#txofficeaddress_financial").val()),$("#txmailtotelepon").val($("#txofficephone_financial").val()),$("#txmailtolocationid").val($("#txofficelocationid_financial").val()),$("#txmailtolocationname").val($("#txofficelocationname_financial").val()),$("#txmailtoaddress").prop("readonly",!0),$("#txmailtotelepon").prop("readonly",!0)):n=="Pasangan"?(document.getElementById("txmailtoaddress").value=$("#txtalamat_pasangan").val(),$("#txmailtotelepon").val($("#txttelp_pasangan").val()),$("#txmailtolocationid").val($("#txlokpasanganid").val()),$("#txmailtolocationname").val($("#txlokpasanganname").val()),$("#txmailtoaddress").prop("readonly",!0),$("#txmailtotelepon").prop("readonly",!0)):n=="Penjamin"?(document.getElementById("txmailtoaddress").value=$("#txtalamat_penjamin").val(),$("#txmailtotelepon").val(""),$("#txmailtolocationid").val($("#txlokpenjaminid").val()),$("#txmailtolocationname").val($("#txtlokasipenjamin").val()),$("#txmailtoaddress").prop("readonly",!0),$("#txmailtotelepon").prop("readonly",!0)):n=="Referensi"?(document.getElementById("txmailtoaddress").value=$("#txtalamat_reference_0").val(),$("#txmailtotelepon").val($("#txttelepon_reference_0").val()),$("#txmailtolocationid").val($("#txlokref1id").val()),$("#txmailtolocationname").val($("#txlokref1name").val()),$("#txmailtoaddress").prop("readonly",!0),$("#txmailtotelepon").prop("readonly",!0)):n=="Lainnya"&&($("#txmailtoaddress").val(""),$("#txmailtoaddress").prop("readonly",!1),$("#txmailtotelepon").prop("readonly",!1),$("#txmailtotelepon").val(""),$("#txmailtolocationid").val(""),$("#txmailtolocationname").val(""))},GetColumnDataReference:function(){var n=$("#txKTP").val(),t={nik:n};$.ajax({url:"GetDataReferensi",type:"GET",contentType:"application/json;charset=utf-8",dataType:"json",data:t,cache:!1,beforeSend:function(){$("#lblmaxcol").text("Loading ...")}}).done(function(n){$("#lblmaxcol").text("Anda diharuskan isi "+n+" Data Referensi.")}).fail(function(n,t){$("#lblmaxcol").text("Gagal memuat data. Silahkan coba kembali");var i=t})},CheckFileDokumen:function(){var n={credit_id:$("#txtcreditid").val()};$.ajax({url:"CheckFotoDokumenIsFound",type:"GET",contentType:"application/json;charset=utf-8",dataType:"json",data:n,cache:!1}).done(function(n){n[0]==!0&&n[1]==!0&&$("#dropdownMenuButton").prop("disabled",!0);$("#btnViewKtpIdentitas").prop("disabled",n[0]);$("#btnViewKK").prop("disabled",n[1]);$("#btnViewSlipGaji").prop("disabled",n[2]);$("#btnViewKtpPasangan").prop("disabled",n[3]);$("#btnViewPbbListrik").prop("disabled",n[4])}).fail(function(n,t){var i=t})},PrintLahs:function(n){var i={creditId:$("#txtcreditid").val(),itemType:n},t=Ladda.create(document.getElementById("btnprintlahs"));$.ajax({url:"PrintLAHS",type:"GET",data:i,beforeSend:function(){t.start()}}).done(function(n){var i=n;t.stop()}).fail(function(n,i){var r=i;t.stop()})}},cas_lookup={location:async function(n,t){var i="",r;switch(n){case"mst":i="PaginationMsLocation";break;case"ktp":i="PaginationMsLocationKTP";break;case"corp":i="PaginationMsLocationCorp";break;case"penjamin":i="PaginationMsLocationPenjamin";break;case"spouse":i="PaginationMsLocationSpouse";break;case"tagih":i="PaginationMsLocationTagihan"}r={pageIndex:1,searchTerm:""};$.ajax({url:i,type:"POST",data:r,beforeSend:function(){$("#"+t+"").prop("disabled",!0);$("#i"+t+"").addClass("fa-spinner fa-spin")},success:function(i){n=="tagih"?($("#containerTagihan").html(i),$("#mdltagihan").modal({backdrop:!1})):n=="penjamin"?($("#containerPenjamin").html(i),$("#mdlpenjamin").modal({backdrop:!1})):n=="spouse"?($("#containerPasangan").html(i),$("#mdlpasangan").modal({backdrop:!1})):n=="corp"?($("#containercorp").html(i),$("#mdlcorp").modal({backdrop:!1})):($("#containerLocation").html(i),$("#mdllocation").modal({backdrop:!1}));$("#"+t+"").prop("disabled",!1);$("#i"+t+"").removeClass("fa-spinner fa-spin")},error:function(n){$("#"+t+"").prop("disabled",!1);$("#i"+t+"").removeClass("fa-spinner fa-spin");var i=n;Common.Alert.Error("Failed to show Lookup Location. Error "+i)}})},SelectedLocation:function(n,t){$("#txlocationid").val(n);$("#txlocationname").val(t);$("#mdllocation").modal("hide");$(".modal-body").html("")},SelectedLocationKtp:function(n,t){$("#txlocationktpid").val(n);$("#txlocationktpname").val(t);$("#mdllocation").modal("hide")},SelectedLocationCorp:function(n,t){$("#txofficelocationid_financial").val(n);$("#txofficelocationname_financial").val(t);$("#mdlcorp").modal("hide")},SelectedBank:function(n,t){$("#txbankid_sr2").val(n);$("#txbankname_sr2").val(t);$("#mdlbank").modal("hide")},SelectPenjamin:function(n,t){$("#txlokpenjaminid").val(n);$("#txtlokasipenjamin").val(t);$("#mdlpenjamin").modal("hide")},SelectRef1:function(n,t){$("#txlokref1id").val(n);$("#txlokref1name").val(t);$("#mdlreferensi").modal("hide");$(".modal-body").html("")},SelectRef2:function(n,t){$("#txlokref2id").val(n);$("#txlokref2name").val(t);$("#mdlreferensi2").modal("hide");$(".modal-body").html("")},SelectRef3:function(n,t){$("#txlokref3id").val(n);$("#txlokref3name").val(t);$("#mdlreferensi3").modal("hide");$(".modal-body").html("")},SelectSpouse:function(n,t){$("#txlokpasanganid").val(n);$("#txlokpasanganname").val(t);$("#mdlpasangan").modal("hide")},SelectTagih:function(n,t){$("#txmailtolocationid").val(n);$("#txmailtolocationname").val(t);$("#mdltagihan").modal("hide")},SelectOrderId:function(n){cas_load.GetPoolingByOrderId(n);$("#txtorderId").val(n);$("#mdlorder").modal("hide")},SelectNppLama:function(n,t,i){$("textarea#txtia_npplama").val(n);$("textarea#txtia_merkitem").val(t);$("textarea#txtia_tipeitem").val(i);$("#mdlNppLama").modal("hide")},SelectNik:function(n){$("#txtnik_konsumen_sr1").val(n);$("#mdlNik").modal("hide")},msbank:function(){var n=Ladda.create(document.getElementById("btnshowbank"));$.ajax({url:"PaginationMsBank",type:"POST",data:{pageIndex:1,searchTerm:""},beforeSend:function(){n.start()},success:function(t){$("#containerBank").html(t);n.stop();$("#mdlbank").modal({backdrop:!1})},error:function(){n.stop();Common.Alert.Error("Failed to show Lookup Bank. please check internet connection or contact administrator. Error "+d)}})},msloc_ref:async function(n,t){var i="",r;switch(n){case"ref1":i="PaginationMsLocationRef1";break;case"ref2":i="PaginationMsLocationRef2";break;case"ref3":i="PaginationMsLocationRef3"}r={pageIndex:1,searchTerm:""};$.ajax({url:i,type:"POST",data:r,beforeSend:function(){$("#i"+t+"").addClass("fa-spinner fa-spin");$("#"+t+"").prop("disabled",!0)},success:function(i){n=="ref1"?($("#containerReferensi").html(i),$("#mdlreferensi").modal({backdrop:!1})):n=="ref2"?($("#containerReferensi2").html(i),$("#mdlreferensi2").modal({backdrop:!1})):n=="ref3"&&($("#containerReferensi3").html(i),$("#mdlreferensi3").modal({backdrop:!1}));$("#i"+t+"").removeClass("fa-spinner fa-spin");$("#"+t+"").prop("disabled",!1)},error:function(n){$("#i"+t+"").removeClass("fa-spinner fa-spin");$("#"+t+"").prop("disabled",!1);var i=n;Common.Alert.Error("Failed to show Lookup Location. please check internet connection or contact administrator.. Error "+i)}})},poolingorder:function(){var t={tipeOrder:$("#ddlcreditsource").val(),pageIndex:1,searchTerm:""},n=Ladda.create(document.getElementById("btnshoworderid"));$.ajax({url:"PaginationPoolingOrder",type:"POST",data:t,beforeSend:function(){n.start()},success:function(t){$("#containerOrder").html(t);n.stop();$("#mdlorder").modal({backdrop:!1})},error:function(t){n.stop();Common.Alert.Error("Failed to show Lookup Order ID. Error "+t)}})},AgreementOld:function(){if($("#txKTP").val()==""){Common.Alert.Warning("Mohon masukan No KTP Identitas terlebih dahulu !");return}var n={searchTerm:"",lesseeId:$("#txKTP").val(),pageIndex:1};$.ajax({url:"PaginationAgreementOld",type:"POST",data:n,beforeSend:function(){$("#ibtnshownpplama").addClass("fa-spinner fa-spin")},success:function(n){$("#containerNppLama").html(n);$("#mdlNppLama").modal({backdrop:!1});$("#ibtnshownpplama").removeClass("fa-spinner fa-spin");document.getElementById("IAYesCheck").checked=!0},error:function(n){$("#ibtnshownpplama").removeClass("fa-spinner fa-spin");Common.Alert.Error("Failed to show Lookup Order ID. Error "+n);document.getElementById("IAYesCheck").checked=!0}})},Nik:function(n){$.ajax({url:"PaginationNIKKonsumen",type:"POST",data:{employeeName:"",pageIndex:1},beforeSend:function(){$("#"+n+"").prop("disabled",!0);$("#i"+n+"").addClass("fa-spinner fa-spin")},success:function(t){$("#mdlNik").modal({backdrop:!1});$("#containerNik").html(t);$("#"+n+"").prop("disabled",!1);$("#i"+n+"").removeClass("fa-spinner fa-spin")},error:function(t){ldBtn.stop();Common.Alert.Error("Failed to show Lookup NIK Konsumen. Error "+t);$("#"+n+"").prop("disabled",!1);$("#i"+n+"").removeClass("fa-spinner fa-spin")}})}};